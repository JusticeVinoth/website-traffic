@(reportJson :com.fasterxml.jackson.databind.JsonNode)

<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="/assets/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/css/custom.css">
<link rel="stylesheet" type="text/css" href="/assets/js/toastr/toastr.css">
<link rel="stylesheet" type="text/css" href="/assets/js/DataTables/datatables.min.css"/>
<script type='text/javascript' src="/assets/js/jquery-3.3.1.js"></script>
<script type='text/javascript' src="/assets/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/js/toastr/toastr.min.js"></script>
<script type="text/javascript" src="/assets/js/custom.js"></script>
<script type="text/javascript" src="/assets/js/index.js"></script> 
<script type="text/javascript" src="/assets/js/DataTables/datatables.min.js"></script>

<script type="text/javascript">
	var homeUrl="@com.rage.controllers.routes.WebsiteTrafficController.home"
</script>
</head>

<body>
<div class="container-fluid">
    <div class="row">			
				<div class="panel-group">
					<div class="panel panel-success">
						<div class="panel-heading">Site Traffic Report
							<span class="my-upload"><a href="@com.rage.controllers.routes.WebsiteController.uploadCsv" data-toggle="tooltip" data-placement="bottom"  title="Upload a new csv file!">
	       								<span class="glyphicon glyphicon-upload btn btn-primary btn-xs"></span>
	  		 								</a></span>	</div>								
					</div>
		</div>
    </div>
</div>    
	<!-- container end -->
@*	<div class="site-container report">
		<hr>		
		<!-- site  traffic report-->
		<div class="row">
			<div class="panel-group">
				<div class="panel panel-success">
					
					<div class="panel-body">
						<div class="panel panel-success">*@
						
							<table id="report_table_id" class="table table-striped table-hover table-responsive report_cls">
								<thead>
									<tr>
										<th>SITE URL</th>
										<th>FACEBOOK FOLLOWERS</th>
										<th>TWITTER FOLLOWERS</th>
										<th>FACEBOOK URL</th>
										<th>TWITTER URL</th>
										@if(reportJson!=null){
											@if(reportJson.has(0) && reportJson.get(0).has("providerReport") && reportJson.get(0).get("providerReport")!=null){
												@for((provReport,index)<-reportJson.get(0).get("providerReport").elements.zipWithIndex){
													@if(provReport!=null && provReport.has("siteName") && !provReport.get("siteName").asText().equals("")){
													<th class="text-uppercase">@provReport.get("siteName").asText()</th>
													}
												}
											}
										}
									</tr>
								</thead>

								@if(reportJson!=null){
								@for((report,index)<-reportJson.elements.zipWithIndex){
									<tr>
										@if(report.has("siteUrl")){
											<td>@report.get("siteUrl").asText()</td> 
										}else{
											<td></td> 
										} 
										@if(report.has("fbFollowers")){
											<td align="center">@report.get("fbFollowers").asText()</td> 
										}else{
											<td></td> 
										} 
										@if(report.has("twitterFollowers")){
											<td align="center">@report.get("twitterFollowers").asText()</td> 
										}else{
											<td></td> 
										} 
										@if(report.has("fbUrl")){
											<td><a href="@report.get("fbUrl").asText()"><img src="/assets/images/Fb.png" class="icon-traffic"/></a></td> 
										}else{
											<td></td> 
										} 
										@if(report.has("twitterUrl")){
											<td><a href="@report.get("twitterUrl").asText()"><img src="/assets/images/Twitter.png" class="icon-traffic"/></a></td> 
										}else{
											<td></td> 
										} 
										
										@if(report.has("providerReport") && report.get("providerReport")!=null){
											@for((provReport,index)<-report.get("providerReport").elements.zipWithIndex){
												@if(provReport!=null && provReport.has("siteName") && !provReport.get("siteName").asText().equals("") && provReport.has("trafficCount")){
												<td>
													<div class="row">
														<div class="col-lg-12">
															<span>@provReport.get("trafficCount").asText()</span>
														</div>
													</div>
												</td> 
												}else{
													<td>
														<p></p> 
													</td>
												}
											 }
										}
									</tr>
								} 
							}
						</table>
					@*</div>
				</div>
			</div>
		</div>
	</div>
	</div>*@
	
	<div class="footer">
		<p>&copy; 2018 - 2019 Rage Communications P. Ltd.</p>
	</div>
</body>
</html>
